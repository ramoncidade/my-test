package br.com.cidade.bussiness;

import org.springframework.beans.factory.annotation.Autowired;

import br.com.cidade.bean.AddressBean;
import br.com.cidade.bean.CEPBean;

public class AddressSearchBussinessImpl implements AddressSearchBussiness {

	private static final int RETRIES_COUNT = 8;
	
	@Autowired
	public AddressSearchBussinessImpl(AddressRepository repository){
		this.repository = repository;
	}

	@Override
	public Boolean isValidCEP(CEPBean cep) {
		Boolean valid = Boolean.FALSE;
		if (valid = cep.getValue() != null) {
			// Verificar se contém apenas números e quantidade de caracteres
			// correta
			if (valid = cep.getValue().length() == 8) {
				valid = !cep.getValue().matches("[0-9]+");
			}
		}
		return valid;
	}

	@Override
	public AddressBean findAddressByCEP(CEPBean cep) {
		AddressBean address = null;
		boolean found = Boolean.FALSE;
		for (int triesCount = 1; triesCount <= RETRIES_COUNT; triesCount++) {
			if (!found) {
				CEP
			}
		}
		return address;
	}

}
